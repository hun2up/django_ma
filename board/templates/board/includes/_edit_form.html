<!-- django_ma/board/templates/board/includes/_edit_form.html -->

<!--
  Board Edit Form Include (create/edit 공용)
  - post/task 작성/수정 폼 공용
  - 실제 필드/첨부 UI는 _form_common.html
  - 버튼 레이아웃 create/edit 동일

  Required context:
  - mode: "create" | "edit"
  - form
  - list_url
  - cancel_url

  Optional:
  - attachments (edit일 때만 의미 있음)
  - form_id (default: "boardForm")
-->

{% with fid=form_id|default:"boardForm" %}
  <form method="post"
        enctype="multipart/form-data"
        id="{{ fid }}"
        class="board-edit-form"
        novalidate>
    {% csrf_token %}

    <!-- 공용 필드/첨부 UI -->
    {% include "board/includes/_form_common.html" with form=form mode=mode attachments=attachments attachment_download_name=attachment_download_name only %}

    <!-- 액션 버튼 -->
    <div class="d-flex flex-column flex-md-row justify-content-between mt-4 gap-2 board-edit-actions">
      <a href="{{ list_url }}" class="btn btn-outline-secondary w-100 w-md-auto">목록으로</a>
      <a href="{{ cancel_url }}" class="btn btn-outline-secondary w-100 w-md-auto">취소</a>

      <button type="submit" id="submitBtn" class="btn btn-primary w-100 w-md-auto">
        {% if mode == "edit" %}수정 완료{% else %}등록하기{% endif %}
      </button>
    </div>
  </form>
{% endwith %}
