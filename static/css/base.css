/* =======================================================
   ğŸ¨ base.css â€” ê³µí†µ ìŠ¤íƒ€ì¼ ì‹œíŠ¸ (REFAC v2)
   - ì „ì—­ UI(í°íŠ¸/ë°°ê²½/ë„¤ë¹„/ë²„íŠ¼/í¼)
   - ê³µìš© ìœ í‹¸(ë¡œë”©/readonly/ê²€ìƒ‰ê²°ê³¼/Info)
   - Partner ê´€ë¦¬í˜ì´ì§€(í¸ì œ/ìš”ìœ¨/ì§€ì íš¨ìœ¨) ë ˆì´ì•„ì›ƒ
   - í…Œì´ë¸”/DataTables/Firefox ë³´ì •
======================================================= */

/* =======================================================
   0) Tokens / Base
======================================================= */
:root {
  --inka-blue: #005BAC;
  --inka-blue2: #0074D9;
  --inka-blue-dark: #004B93;

  --bg-app: #f9fbfd;
  --border-soft: #d2ddec;

  --shadow-card: 0 6px 15px rgba(0, 0, 0, 0.1);
  --shadow-soft: 0 2px 6px rgba(0, 0, 0, 0.05);

  --radius-card: 15px;
  --radius-soft: 10px;
}

html { font-size: 16px; }

html, body, button, input, textarea, select {
  font-family: "Noto Sans KR", sans-serif;
}

body { background-color: var(--bg-app); }

/* =======================================================
   1) Navbar
======================================================= */
.navbar { box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); }

.nav-link {
  font-size: 1.1rem;
  font-weight: 600;
  color: #333 !important;
  margin: 0 10px;
}

.nav-link:hover { color: var(--inka-blue) !important; }

.nav-link.active {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--inka-blue) !important;
}

.nav-link.inactive { color: #aaa !important; }
.nav-link.inactive:hover { color: var(--inka-blue) !important; }

/* =======================================================
   2) Buttons
======================================================= */
.btn-primary {
  background: linear-gradient(135deg, var(--inka-blue) 0%, var(--inka-blue2) 100%);
  border: none;
  border-radius: var(--radius-soft);
  font-weight: 600;
  transition: all 0.3s ease;
}

.btn-primary:hover {
  background: linear-gradient(135deg, var(--inka-blue-dark) 0%, #0069C2 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(0, 91, 172, 0.4);
}

.btn-logout {
  background-color: #dc3545;
  color: #fff;
  border-radius: 8px;
  padding: 6px 14px;
  border: none;
}
.btn-logout:hover { background-color: #b02a37; }

.btn-search,
.btn-remove {
  white-space: nowrap;
  padding: 6px 12px;
  font-size: 0.9rem;
  border-radius: 8px;
}

.btn[disabled],
button[disabled] {
  opacity: 0.85;
  cursor: not-allowed;
}

/* =======================================================
   3) Cards / Forms / Inputs
======================================================= */
.card {
  border: none;
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-card);
}

.form-control {
  border-radius: var(--radius-soft);
  border: 1px solid var(--border-soft);
  transition: all 0.25s ease;
}

.form-control:focus {
  border-color: var(--inka-blue);
  box-shadow: 0 0 6px rgba(0, 91, 172, 0.4);
}

.status-select {
  font-weight: 600;
  border-radius: 6px;
  padding: 4px 8px;
}

/* =======================================================
   4) Comment UI
======================================================= */
.comment-empty,
.comment-login {
  font-size: 13px;
  color: #999;
}

.comment-box {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.comment-content {
  flex: 1 1 auto;
  background-color: #f8f9fa;
  border: 1px solid var(--border-soft);
  border-radius: 12px;
  padding: 10px 12px;
  position: relative;
  box-shadow: var(--shadow-soft);
}

/* =======================================================
   5) Info Label / Value
======================================================= */
.info-row { display: flex; flex-wrap: wrap; gap: 10px; }

.info-item {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1 1 auto;
  min-width: 150px;
}

.info-label {
  font-size: 0.8rem;
  font-weight: 500;
  color: #333;
  background-color: #fdfdfd;
  border-radius: 8px;
  padding: 4px 10px;
  display: inline-block;
  white-space: nowrap;
  border: 1px solid #e3e6ed;
}

.info-value {
  background-color: #f8f9fa;
  border-radius: 10px;
  padding: 5px 10px;
  font-size: 0.8rem;
  font-weight: 600;
  display: inline-block;
  min-width: 90px;
  text-align: center;
  margin-right: 6px;
  color: #222;
}

/* =======================================================
   6) Loading Overlay
======================================================= */
.loading-overlay {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(255, 255, 255, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
}

.loading-box {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* =======================================================
   7) Search Result UI
======================================================= */
#searchResults .list-group-item.search-result {
  margin-bottom: 10px;
  padding-top: 11px;
  padding-bottom: 11px;
  border-radius: 8px;
  transition: all 0.2s ease;
}

#searchResults .list-group-item.search-result:hover {
  background-color: #f0f8ff;
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(0, 91, 172, 0.15);
}

/* =======================================================
   8) Readonly Fields
======================================================= */
.readonly-field[readonly] {
  background-color: #f1f1f1;
  color: #666;
  cursor: not-allowed;
  opacity: 1;
}

.readonly-field[readonly]:focus {
  box-shadow: none;
  border-color: #ccc;
}

input[name^="premium_"] { text-align: right; }

/* =======================================================
   9) Controls Form (Partner ê³µìš©)
======================================================= */
#controlsForm { align-items: flex-end; }

#controlsForm .form-label {
  font-weight: 600;
  font-size: 0.9rem;
}

#controlsForm .form-select-sm,
#controlsForm .btn-sm {
  height: 34px;
  font-size: 0.9rem;
}

/* =======================================================
   10) Disabled Mode
======================================================= */
.disabled-mode {
  opacity: 0.6;
  pointer-events: none;
  filter: grayscale(0.8);
  position: relative;
  transition: all 0.3s ease;
}

.disabled-mode::before {
  content: "âš ï¸ í˜„ì¬ ì›”ë„ëŠ” ì…ë ¥ì´ ë¶ˆê°€í•©ë‹ˆë‹¤.";
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: #f8d7da;
  color: #842029;
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  box-shadow: 0 0 4px rgba(0, 0, 0, 0.1);
}

/* =======================================================
   11) Partner ê´€ë¦¬í˜ì´ì§€ ë ˆì´ì•„ì›ƒ í™•ì¥
======================================================= */
/* base.htmlì´ .containerë¡œ ê°ì‹¸ë„ "ì¤‘ì•™ ê¸°ì¤€ í™•ì¥" */
#manage-structure,
#manage-rate,
#manage-efficiency {
  width: 86vw !important;
  max-width: none !important;
  margin-left: calc(-43vw + 50%) !important;
  border-radius: 14px;
}

#manage-structure .card,
#manage-rate .card,
#manage-efficiency .card {
  width: 100%;
  max-width: none;
  margin: 0 auto 1.5rem auto;
  border-radius: 14px;
}

/* âœ… ê¸°ë³¸ table-responsiveëŠ” visible(ì…ë ¥ í…Œì´ë¸”/ì¹´ë“œ ë ˆì´ì•„ì›ƒ ìœ ì§€) */
#manage-structure .table-responsive,
#manage-rate .table-responsive,
#manage-efficiency .table-responsive {
  width: 100%;
  max-width: 100%;
  overflow-x: visible;
}

/* âœ… ë©”ì¸ì‹œíŠ¸(DataTables)ë§Œ autoë¡œ: ë°˜ì‘í˜•/ë¦¬ì‚¬ì´ì¦ˆ í­ ê³„ì‚° ì•ˆì •í™” */
#manage-structure #mainSheet .table-responsive,
#manage-rate #mainSheet .table-responsive,
#manage-efficiency #mainSheet .table-responsive {
  overflow-x: auto !important;
}

/* Partner í…Œì´ë¸” ê¸°ë³¸ */
#manage-structure :where(table th, table td),
#manage-rate :where(table th, table td),
#manage-efficiency :where(table th, table td) {
  font-size: 13px;
  white-space: nowrap;
}

/* ì§€ì íš¨ìœ¨ ê¸ˆì•¡ ìš°ì¸¡ì •ë ¬ */
#manage-efficiency input[name="amount"] { text-align: right; }

/* =======================================================
   12) Partner ì…ë ¥/ë©”ì¸ í…Œì´ë¸”(ìŠ¤ì½”í”„ ì ìš©)
   - ì „ì—­ table ê·œì¹™ ì œê±°, Partner í…Œì´ë¸”ì—ë§Œ ì ìš©
======================================================= */
#manage-structure table,
#manage-rate table,
#manage-efficiency table {
  width: 100%;
  table-layout: fixed;
}

/* ì…ë ¥ í…Œì´ë¸” */
#manage-structure #inputTable th,
#manage-rate #inputTable th,
#manage-efficiency #inputTable th {
  font-size: 12px;
  font-weight: 600;
  text-align: center !important;
  vertical-align: middle !important;
}

#manage-structure #inputTable :where(td, input, select),
#manage-rate #inputTable :where(td, input, select),
#manage-efficiency #inputTable :where(td, input, select) {
  font-size: 12px;
}

/* ë©”ì¸ì‹œíŠ¸ */
#manage-structure #mainTable th,
#manage-rate #mainTable th,
#manage-efficiency #mainTable th {
  font-size: 12px;
  font-weight: 600;
}

#manage-structure #mainTable td,
#manage-rate #mainTable td,
#manage-efficiency #mainTable td {
  font-size: 12px;
  max-width: 200px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

/* =======================================================
   âœ… MainSheet: í…Œì´ë¸” ê³ ì •í­ + ê°€ë¡œ ìŠ¤í¬ë¡¤ ì •ì±…
   - í™”ë©´ì´ ì¤„ë©´ í…Œì´ë¸”ì´ ì°Œê·¸ëŸ¬ì§€ì§€ ì•Šë„ë¡ min-width ìœ ì§€
   ======================================================= */

/* ë©”ì¸ì‹œíŠ¸ í…Œì´ë¸”ì— ë¶™ì¼ ê³µìš© í´ë˜ìŠ¤ */
#manage-structure .main-table-fixed,
#manage-rate .main-table-fixed,
#manage-efficiency .main-table-fixed {
  /* âœ… ì—¬ê¸° ê°’ì„ í˜ì´ì§€ë³„ë¡œ ì¡°ì • ê°€ëŠ¥ */
  min-width: 1350px;
}

/* DataTables scrollX ì‚¬ìš© ì‹œ wrapperê°€ ê°€ë¡œ ìŠ¤í¬ë¡¤ì„ ë“¤ê³  ìˆë„ë¡ */
#manage-structure #mainTable_wrapper,
#manage-rate #mainTable_wrapper,
#manage-efficiency #mainTable_wrapper {
  width: 100%;
  max-width: 100%;
}

/* ê°•ì¡° ìƒ‰ìƒ */
.text-blue {
  color: var(--inka-blue) !important;
  font-weight: 600;
}

/* =======================================================
   âœ… MainSheet OR í‘œì‹œìš© ì²´í¬ë°•ìŠ¤(ì½ê¸°ì „ìš©)
======================================================= */
#manage-structure #mainTable .or-checkbox {
  width: 1.05rem;
  height: 1.05rem;
  pointer-events: none; /* í´ë¦­ ë¶ˆê°€(ì½ê¸°ì „ìš©) */
  cursor: default;
}

#manage-structure #mainTable td.or-cell {
  text-align: center;
  vertical-align: middle;
}


/* =======================================================
   13) ìš”ìœ¨ê´€ë¦¬ - í…Œì´ë¸” í™•ì¸ ëª¨ë‹¬
======================================================= */
#tableCheckModal table :where(th, td) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding: 6px 8px;
}

#tableCheckModal table th {
  font-weight: 600;
  background-color: #f8f9fa;
}

#tableCheckModal table td { font-size: 0.9rem; }

#tableCheckModal table td.text-center {
  font-weight: 500;
  color: #003f7d;
}

/* =======================================================
   14) DataTables / Firefox Layout Fix
======================================================= */
#mainSheet { min-width: 0; }

#mainTable_wrapper {
  width: 100%;
  max-width: 100%;
}

#mainTable {
  width: 100% !important;
  table-layout: fixed;
}

#mainTable_wrapper .row {
  width: 100%;
  margin: 0;
}

/* =======================================================
   15) ë³€ê²½í›„ ê°•ì¡°(ê³µìš©)
======================================================= */
.cell-after {
  color: var(--inka-blue);
  font-weight: 600;
  border-radius: 6px;
  padding: 2px 6px;
  display: inline-block;
  line-height: 1.4;
}

td .cell-after {
  white-space: nowrap;
  max-width: 100%;
}
